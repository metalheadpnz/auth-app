{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { getAuthDataFromLS, getNews } from \"../thunk/appActionCreators\";\nconst initialState = {\n  isAuth: false,\n  loginError: false,\n  isLoading: false,\n  loadingError: '',\n  newsData: []\n};\nconst appReducer = createSlice({\n  name: 'app',\n  initialState,\n  reducers: {\n    setIsAuth: (state, action) => {\n      state.isAuth = action.payload;\n    },\n    setError: (state, action) => {\n      state.loginError = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getNews.pending, (state, action) => {\n      state.isLoading = true;\n      state.loadingError = '';\n    });\n    builder.addCase(getNews.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.newsData = action.payload;\n    });\n    builder.addCase(getNews.rejected, (state, action) => {\n      state.isLoading = false;\n      state.loadingError = action.error.message || 'Error';\n    });\n    builder.addCase(getAuthDataFromLS.fulfilled, (state, action) => {\n      const storedValue = action.payload;\n      if (storedValue !== null) {\n        const isAuthStored = JSON.parse(storedValue);\n        state.isAuth = isAuthStored;\n      } else {\n        state.isAuth = false;\n      }\n    });\n  }\n});\nexport const {\n  setIsAuth,\n  setError\n} = appReducer.actions;\nexport default appReducer.reducer;","map":{"version":3,"names":["createSlice","getAuthDataFromLS","getNews","initialState","isAuth","loginError","isLoading","loadingError","newsData","appReducer","name","reducers","setIsAuth","state","action","payload","setError","extraReducers","builder","addCase","pending","fulfilled","rejected","error","message","storedValue","isAuthStored","JSON","parse","actions","reducer"],"sources":["/Users/andrejpolakov/WebstormProjects/auth-app/src/store/reducers/appReducer.ts"],"sourcesContent":["import {createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {getAuthDataFromLS, getNews} from \"../thunk/appActionCreators\";\nimport {AppState} from \"../types\";\n\nconst initialState: AppState = {\n    isAuth: false,\n    loginError: false,\n    isLoading: false,\n    loadingError: '',\n    newsData: [],\n};\n\nconst appReducer = createSlice({\n    name: 'app',\n    initialState,\n    reducers: {\n        setIsAuth: (state, action: PayloadAction<boolean>) => {\n            state.isAuth = action.payload\n        },\n        setError: (state, action: PayloadAction<boolean>) => {\n            state.loginError = action.payload\n        },\n    },\n    extraReducers: (builder) => {\n        builder.addCase(getNews.pending, (state, action) => {\n            state.isLoading = true\n            state.loadingError = ''\n        })\n        builder.addCase(getNews.fulfilled, (state, action) => {\n            state.isLoading = false\n            state.newsData = action.payload\n        });\n        builder.addCase(getNews.rejected, (state, action) => {\n            state.isLoading = false\n            state.loadingError = action.error.message || 'Error'\n        });\n\n        builder.addCase(getAuthDataFromLS.fulfilled, (state, action) => {\n            const storedValue = action.payload\n            if (storedValue !== null) {\n                const isAuthStored: boolean = JSON.parse(storedValue)\n                state.isAuth = isAuthStored\n            } else {\n                state.isAuth = false\n            }\n        })\n    }\n});\n\nexport const {setIsAuth, setError} = appReducer.actions;\nexport default appReducer.reducer;\n"],"mappings":"AAAA,SAAQA,WAAW,QAAsB,kBAAkB;AAC3D,SAAQC,iBAAiB,EAAEC,OAAO,QAAO,4BAA4B;AAGrE,MAAMC,YAAsB,GAAG;EAC3BC,MAAM,EAAE,KAAK;EACbC,UAAU,EAAE,KAAK;EACjBC,SAAS,EAAE,KAAK;EAChBC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE;AACd,CAAC;AAED,MAAMC,UAAU,GAAGT,WAAW,CAAC;EAC3BU,IAAI,EAAE,KAAK;EACXP,YAAY;EACZQ,QAAQ,EAAE;IACNC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAA8B,KAAK;MAClDD,KAAK,CAACT,MAAM,GAAGU,MAAM,CAACC,OAAO;IACjC,CAAC;IACDC,QAAQ,EAAEA,CAACH,KAAK,EAAEC,MAA8B,KAAK;MACjDD,KAAK,CAACR,UAAU,GAAGS,MAAM,CAACC,OAAO;IACrC;EACJ,CAAC;EACDE,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACjB,OAAO,CAACkB,OAAO,EAAE,CAACP,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACP,SAAS,GAAG,IAAI;MACtBO,KAAK,CAACN,YAAY,GAAG,EAAE;IAC3B,CAAC,CAAC;IACFW,OAAO,CAACC,OAAO,CAACjB,OAAO,CAACmB,SAAS,EAAE,CAACR,KAAK,EAAEC,MAAM,KAAK;MAClDD,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACL,QAAQ,GAAGM,MAAM,CAACC,OAAO;IACnC,CAAC,CAAC;IACFG,OAAO,CAACC,OAAO,CAACjB,OAAO,CAACoB,QAAQ,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACP,SAAS,GAAG,KAAK;MACvBO,KAAK,CAACN,YAAY,GAAGO,MAAM,CAACS,KAAK,CAACC,OAAO,IAAI,OAAO;IACxD,CAAC,CAAC;IAEFN,OAAO,CAACC,OAAO,CAAClB,iBAAiB,CAACoB,SAAS,EAAE,CAACR,KAAK,EAAEC,MAAM,KAAK;MAC5D,MAAMW,WAAW,GAAGX,MAAM,CAACC,OAAO;MAClC,IAAIU,WAAW,KAAK,IAAI,EAAE;QACtB,MAAMC,YAAqB,GAAGC,IAAI,CAACC,KAAK,CAACH,WAAW,CAAC;QACrDZ,KAAK,CAACT,MAAM,GAAGsB,YAAY;MAC/B,CAAC,MAAM;QACHb,KAAK,CAACT,MAAM,GAAG,KAAK;MACxB;IACJ,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAACQ,SAAS;EAAEI;AAAQ,CAAC,GAAGP,UAAU,CAACoB,OAAO;AACvD,eAAepB,UAAU,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}